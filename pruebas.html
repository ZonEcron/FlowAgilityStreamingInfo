<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Seleccionar imagen de fondo para un div</title>
  <style>
    #imageContainer {
      position: relative;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      overflow: hidden;
    }

    #imageDiv {
      position: absolute;
      top: 0;
      right: 0;
      z-index: -1;
      display: none;
      cursor: pointer;
    }

    #fileInput {
      display: none;
    }

    #selectButton {
      padding: 10px 15px;
      font-size: 16px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div id="imageContainer">
    <input type="file" id="fileInput" accept="image/*">
    <label for="fileInput" id="selectButton">Seleccionar imagen</label>
    <div id="imageDiv"></div>
  </div>

  <script>
    const imageDiv = document.getElementById('imageDiv');
    
    function handleDoubleClick() {
      // Tu l√≥gica para el doble click en el fondo o la imagen
      alert('Doble click en el fondo o la imagen');
    }

    document.getElementById('fileInput').addEventListener('change', function(event) {
      const file = event.target.files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = function(e) {
          const imageUrl = e.target.result;
          imageDiv.style.backgroundImage = `url(${imageUrl})`;

          const img = new Image();
          img.onload = function() {
            imageDiv.style.width = `${img.width}px`;
            imageDiv.style.height = `${img.height}px`;
            imageDiv.style.display = 'block';
          };
          img.src = imageUrl;
        };
        reader.readAsDataURL(file);
      }
    });

    imageDiv.addEventListener('dblclick', function(event) {
      // Si se hace doble click en la imagen, se dispara el doble click del body
      event.stopPropagation();
      document.body.dispatchEvent(new MouseEvent('dblclick'));
    });

    document.addEventListener('dblclick', handleDoubleClick);
  </script>
</body>
</html>
